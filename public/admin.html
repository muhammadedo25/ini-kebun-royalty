<!DOCTYPE html>
<html>
<head>
  <title>Admin Ini Kebun</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <style>
    body { font-family: system-ui; padding: 20px }
    .box { padding: 16px; border-radius: 12px; background: #f3f3f3; margin-bottom: 12px }
  </style>
</head>
<body>

<h1>ðŸ“Š Dashboard Ini Kebun</h1>

<div class="box">ðŸ‘¥ Total Pengunjung: <b id="visitors">-</b></div>
<div class="box">ðŸ“¸ Total Scan: <b id="scans">-</b></div>

<h3>ðŸ•’ Scan Terakhir</h3>
<ul id="list"></ul>

<script>
fetch('/api/admin-stats')
  .then(res => res.json())
  .then(data => {
    document.getElementById('visitors').innerText = data.visitors
    document.getElementById('scans').innerText = data.scans

    const list = document.getElementById('list')
    data.latest.forEach(item => {
      const li = document.createElement('li')
      li.innerText = `${item.outlet_code} â€” ${new Date(item.created_at).toLocaleString()}`
      list.appendChild(li)
    })
  })
</script>

</body>
</html>
